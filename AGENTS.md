# AI Agent Guidelines

このプロジェクトでは、以下のガイドラインに従って開発を行います。
AIエージェントがコードを変更または生成する際は、これらのルールを遵守してください。

## 1. ドキュメンテーションとコメント

*   **言語**: コード内のコメントおよびドキュメントは、**日本語**で記述してください。
*   **Docstring**: すべてのクラス (`class_name`) およびパブリック関数には、その役割、引数、戻り値を説明する Docstring を記述してください。
*   **詳細**: アルゴリズムや複雑なロジックには、意図を明確にする詳細なコメントを追加してください。

## 2. コーディング規約 (GDScript)

*   **インデント**: タブではなく、**スペース4つ**を使用してください。
*   **空行**: トップレベルの関数定義の間には**2行**の空行を入れてください。
*   **型ヒント**: 可能な限り静的型付けを使用し、コロンの前にはスペースを入れないでください（例: `var hp: int`）。
*   **コメントスタイル**: インラインコメントの前にはスペースを**1つ**入れてください（例: `code # comment`）。

## 3. アーキテクチャ

*   **MapData**: マップデータは `MapData` クラスで管理し、直接 `Tile` 配列を操作するのではなく、提供されたメソッドを使用してください。
*   **Entity**: エンティティは `Entity` クラスとコンポーネントシステムを使用して拡張してください。
*   **DungeonGenerator**: ダンジョン生成ロジックは `DungeonGenerator` に集約し、既存のモノリシックな構造を維持しつつ、可読性を高めてください。

## 4. プロジェクト構造

*   `docs/`: ドキュメントはここに追加・更新してください。アーキテクチャの変更がある場合は `DATA_STRUCTURES.md` を更新してください。
*   `scripts/`: GDScriptファイルは役割ごとにサブディレクトリに配置してください。

## 5. テストと検証

*   コードを変更した後は、影響を受ける機能が正常に動作することを確認してください（ツールの使用やログによる確認）。
*   大規模な変更の際は、事前にプランを立てて承認を得てください。
